<div class="col">
  <div class="card h-100">
    <div class="card-header">
      Post by: <%= post.user&.handle || "Unknown User" %>
    </div>
    <div class="card-body">
      <h5 class="card-title">Mood Word</h5>
      <p class="card-text"><%= post.mood_word || "No Mood Word" %></p>
    </div>
    <div class="card-footer">
      <small class="text-muted">Created At: <%= post.created_at.strftime("%B %d, %Y at %I:%M %p") %></small>
      <% if post.created_at != post.updated_at %>
        <br>
        <small class="text-muted">Edited At: <%= post.updated_at.strftime("%B %d, %Y at %I:%M %p") %></small>
      <% end %>
      <% if user_signed_in? && current_user == post.user %>
        <div class="d-flex justify-content-end mt-2">
          <%= link_to "Edit Post", edit_post_path(post), class: "btn btn-secondary btn-sm mx-1" %>
          <%= button_to "Delete Post", post_path(post),class: "btn btn-danger btn-sm",:method => :delete ,data: { confirm: "Are you sure you want to delete this post?" } %>
          <% if post.likes.exists?(user: current_user) %>
            <%= button_to "Unlike", unlike_post_path(post), method: :delete, class: "btn btn-secondary" %>
          <% else %>
            <%= button_to "Like", like_post_path(post), method: :post, class: "btn btn-primary" %>
          <% end %>

          <p>Likes: <%= post.likes.count %></p>
        </div>
      <% end %>
    </div>
  </div>
</div>
